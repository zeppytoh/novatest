---
// src/components/AnimeJS.astro
// This component can be imported wherever you need Anime.js
---

<script>
  import anime from 'animejs/lib/anime.es.js';
  
  // Make anime globally available if needed
  window.anime = anime;
  
  // Initialize animations when content is loaded
  document.addEventListener('DOMContentLoaded', () => {
    // Look for elements with data-anime attribute
    const animeElements = document.querySelectorAll('[data-anime]');
    
    animeElements.forEach(element => {
      try {
        // Parse the animation options from the data-anime attribute
        const options = JSON.parse(element.dataset.anime);
        
        // Apply animation with proper targets
        options.targets = options.targets || element;
        anime(options);
      } catch (error) {
        console.error('Error initializing anime.js animation:', error);
      }
    });
  });
</script>